<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Crear Cuenta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div class="container">
    <ion-card>
      <ion-title class="form-title">Crear Cuenta</ion-title>

      <form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
        <!-- Nombre de usuario -->
        <ion-item lines="full">
          <ion-label position="floating">Nombre de Usuario</ion-label>
          <ion-input formControlName="nombreUsuario"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isFieldInvalid('nombreUsuario')">
          El nombre de usuario es obligatorio.
        </ion-text>

        <!-- Correo electrónico -->
        <ion-item lines="full">
          <ion-label position="floating">Correo Electrónico</ion-label>
          <ion-input formControlName="correo" type="email"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isFieldInvalid('correo')">
          El correo electrónico no es válido.
        </ion-text>

        <!-- Contraseña -->
        <ion-item lines="full">
          <ion-label position="floating">Contraseña</ion-label>
          <ion-input formControlName="contraseña" type="password"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isFieldInvalid('contraseña')">
          La contraseña debe tener al menos 6 caracteres.
        </ion-text>

        <!-- Confirmar contraseña -->
        <ion-item lines="full">
          <ion-label position="floating">Confirmar Contraseña</ion-label>
          <ion-input formControlName="confirmarContraseña" type="password"></ion-input>
        </ion-item>
        <!-- Ajuste para la validación de contraseñas -->
        <ion-text color="danger" *ngIf="registroForm.errors?.['passwordMismatch']">
          Las contraseñas no coinciden.
        </ion-text>

        <!-- Nombre completo -->
        <ion-item lines="full">
          <ion-label position="floating">Nombre Completo</ion-label>
          <ion-input formControlName="nombreCompleto"></ion-input>
        </ion-item>

        <!-- Número de teléfono -->
        <ion-item lines="full">
          <ion-label position="floating">Teléfono</ion-label>
          <ion-input formControlName="telefono" type="tel"></ion-input>
        </ion-item>

        <!-- Dirección -->
        <ion-item lines="full">
          <ion-label position="floating">Dirección (Ciudad, Estado, País)</ion-label>
          <ion-input formControlName="direccion"></ion-input>
        </ion-item>

        <!-- Preferencias de adopción -->
        <ion-item lines="full">
          <ion-label>Tipo de Mascota</ion-label>
          <ion-select formControlName="preferenciaMascota">
            <ion-select-option value="perro">Perro</ion-select-option>
            <ion-select-option value="gato">Gato</ion-select-option>
            <ion-select-option value="otro">Otro</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-item lines="full">
          <ion-label>Tamaño Preferido</ion-label>
          <ion-select formControlName="tamanoPreferido">
            <ion-select-option value="pequeño">Pequeño</ion-select-option>
            <ion-select-option value="mediano">Mediano</ion-select-option>
            <ion-select-option value="grande">Grande</ion-select-option>
          </ion-select>
        </ion-item>

        <!-- Aceptar términos y condiciones -->
        <ion-item lines="none">
          <ion-checkbox formControlName="aceptarTerminos"></ion-checkbox>
          <ion-label>Acepto los términos y condiciones</ion-label>
        </ion-item>
        <ion-text color="danger" *ngIf="isFieldInvalid('aceptarTerminos')">
          Debes aceptar los términos.
        </ion-text>

        <!-- Botón de enviar -->
        <ion-button expand="full" type="submit" class="submit-button" [disabled]="!registroForm.valid">
          Crear Cuenta
        </ion-button>
      </form>
    </ion-card>
  </div>
</ion-content>
