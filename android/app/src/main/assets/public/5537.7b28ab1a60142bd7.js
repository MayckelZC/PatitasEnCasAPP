"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5537],{5537:(Y,v,c)=>{c.r(v),c.d(v,{CrearadopcionPageModule:()=>z});var _=c(177),r=c(4341),a=c(791),k=c(70),x=c(467),o=c(3953);function P(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El tipo de mascota es obligatorio. "),o.k0s())}function h(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El tama\xf1o es obligatorio. "),o.k0s())}function E(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El nombre debe contener solo letras, sin espacios ni n\xfameros. "),o.k0s())}function j(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," La edad es obligatoria. "),o.k0s())}function M(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El sexo es obligatorio. "),o.k0s())}function G(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," La raza es obligatoria. "),o.k0s())}function O(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," La raza debe contener solo letras y espacios. "),o.k0s())}function y(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El color es obligatorio. "),o.k0s())}function T(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," El color debe contener solo letras y espacios. "),o.k0s())}function $(e,t){1&e&&(o.j41(0,"div",28),o.EFF(1," La descripci\xf3n debe contener solo letras y espacios. "),o.k0s())}function R(e,t){if(1&e&&(o.j41(0,"div",29),o.nrm(1,"img",30),o.k0s()),2&e){const d=o.XpG();o.R7$(),o.Y8G("src",d.imageUrl,o.B4B)}}const I=[{path:"",component:(()=>{var e;class t{constructor(i,n,l){this.formBuilder=i,this.toastController=n,this.alertController=l}ngOnInit(){this.adopcionForm=this.formBuilder.group({tipoMascota:["",r.k0.required],tamano:["",r.k0.required],nombre:["",[r.k0.pattern("^[A-Za-z]+$")]],edad:["",[r.k0.required,r.k0.min(0),r.k0.pattern("^[0-9]+$")]],sexo:["",r.k0.required],raza:["",[r.k0.required,r.k0.pattern("^[A-Za-z ]+$")]],color:["",[r.k0.required,r.k0.pattern("^[A-Za-z ]+$")]],esterilizado:[!1],vacuna:[!1],descripcion:["",[r.k0.pattern("^[A-Za-z0-9 ]*$")]]})}onSubmit(){var i=this;return(0,x.A)(function*(){var l;console.log("onSubmit called"),i.adopcionForm.valid?yield(yield i.alertController.create({header:"Confirmaci\xf3n",message:"\xbfDeseas crear esta nueva adopci\xf3n?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Creaci\xf3n de adopci\xf3n cancelada")}},{text:"Confirmar",handler:(l=(0,x.A)(function*(){console.log("Formulario enviado",i.adopcionForm.value),(yield i.toastController.create({message:"Adopci\xf3n creada con \xe9xito.",duration:3e3,position:"top",cssClass:"toast-center"})).present()}),function(){return l.apply(this,arguments)})}]})).present():console.log("Formulario inv\xe1lido")})()}onClear(){this.adopcionForm.reset(),this.imageUrl=void 0}onFileChange(i){const n=i.target;if(n.files&&n.files[0]){const l=n.files[0];if(l.type.startsWith("image/")&&l.size<=5242880){const s=new FileReader;s.onload=()=>{this.imageUrl=s.result},s.readAsDataURL(l)}else console.error("Tipo de archivo no v\xe1lido o archivo demasiado grande")}}}return(e=t).\u0275fac=function(i){return new(i||e)(o.rXU(r.ok),o.rXU(a.K_),o.rXU(a.hG))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-crearadopcion"]],decls:78,vars:13,consts:[["slot","start"],["defaultHref","/home"],["padding",""],[1,"form-title"],["enctype","multipart/form-data",3,"ngSubmit","formGroup"],["position","floating"],["formControlName","tipoMascota"],["value","perro"],["value","gato"],["value","otro"],["class","error-message",4,"ngIf"],["formControlName","tamano"],["value","peque\xf1o"],["value","mediano"],["value","grande"],["formControlName","nombre"],["formControlName","edad","type","number"],["formControlName","sexo"],["value","macho"],["value","hembra"],["formControlName","raza"],["formControlName","color"],["formControlName","descripcion"],["type","file",3,"change"],["class","image-preview",4,"ngIf"],[1,"button-group"],["expand","full","type","submit",3,"disabled"],["expand","full",1,"btn-clear",3,"click"],[1,"error-message"],[1,"image-preview"],["alt","Vista previa de la imagen",3,"src"]],template:function(i,n){if(1&i&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-back-button",1),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Crear Adopci\xf3n"),o.k0s()()(),o.j41(6,"ion-content",2)(7,"ion-card")(8,"ion-title",3),o.EFF(9,"Crear Adopci\xf3n"),o.k0s(),o.j41(10,"form",4),o.bIt("ngSubmit",function(){return n.onSubmit()}),o.j41(11,"ion-item")(12,"ion-label",5),o.EFF(13,"Tipo de Mascota"),o.k0s(),o.j41(14,"ion-select",6)(15,"ion-select-option",7),o.EFF(16,"Perro"),o.k0s(),o.j41(17,"ion-select-option",8),o.EFF(18,"Gato"),o.k0s(),o.j41(19,"ion-select-option",9),o.EFF(20,"Otro"),o.k0s()()(),o.DNE(21,P,2,0,"div",10),o.j41(22,"ion-item")(23,"ion-label",5),o.EFF(24,"Tama\xf1o"),o.k0s(),o.j41(25,"ion-select",11)(26,"ion-select-option",12),o.EFF(27,"Peque\xf1o"),o.k0s(),o.j41(28,"ion-select-option",13),o.EFF(29,"Mediano"),o.k0s(),o.j41(30,"ion-select-option",14),o.EFF(31,"Grande"),o.k0s()()(),o.DNE(32,h,2,0,"div",10),o.j41(33,"ion-item")(34,"ion-label",5),o.EFF(35,"Nombre (Opcional)"),o.k0s(),o.nrm(36,"ion-input",15),o.k0s(),o.DNE(37,E,2,0,"div",10),o.j41(38,"ion-item")(39,"ion-label",5),o.EFF(40,"Edad"),o.k0s(),o.nrm(41,"ion-input",16),o.k0s(),o.DNE(42,j,2,0,"div",10),o.j41(43,"ion-item")(44,"ion-label",5),o.EFF(45,"Sexo"),o.k0s(),o.j41(46,"ion-select",17)(47,"ion-select-option",18),o.EFF(48,"Macho"),o.k0s(),o.j41(49,"ion-select-option",19),o.EFF(50,"Hembra"),o.k0s()()(),o.DNE(51,M,2,0,"div",10),o.j41(52,"ion-item")(53,"ion-label",5),o.EFF(54,"Raza"),o.k0s(),o.nrm(55,"ion-input",20),o.k0s(),o.DNE(56,G,2,0,"div",10)(57,O,2,0,"div",10),o.j41(58,"ion-item")(59,"ion-label",5),o.EFF(60,"Color"),o.k0s(),o.nrm(61,"ion-input",21),o.k0s(),o.DNE(62,y,2,0,"div",10)(63,T,2,0,"div",10),o.j41(64,"ion-item")(65,"ion-label",5),o.EFF(66,"Descripci\xf3n"),o.k0s(),o.nrm(67,"ion-textarea",22),o.k0s(),o.DNE(68,$,2,0,"div",10),o.j41(69,"ion-item"),o.nrm(70,"ion-label",5),o.j41(71,"input",23),o.bIt("change",function(s){return n.onFileChange(s)}),o.k0s()(),o.DNE(72,R,2,1,"div",24),o.j41(73,"div",25)(74,"ion-button",26),o.EFF(75,"Guardar"),o.k0s(),o.j41(76,"ion-button",27),o.bIt("click",function(){return n.onClear()}),o.EFF(77,"Limpiar"),o.k0s()()()()()),2&i){let l,s,p,u,m,g,f,F,C,b;o.R7$(10),o.Y8G("formGroup",n.adopcionForm),o.R7$(11),o.Y8G("ngIf",null==(l=n.adopcionForm.get("tipoMascota"))||null==l.errors?null:l.errors.required),o.R7$(11),o.Y8G("ngIf",null==(s=n.adopcionForm.get("tamano"))||null==s.errors?null:s.errors.required),o.R7$(5),o.Y8G("ngIf",null==(p=n.adopcionForm.get("nombre"))||null==p.errors?null:p.errors.pattern),o.R7$(5),o.Y8G("ngIf",null==(u=n.adopcionForm.get("edad"))||null==u.errors?null:u.errors.required),o.R7$(9),o.Y8G("ngIf",null==(m=n.adopcionForm.get("sexo"))||null==m.errors?null:m.errors.required),o.R7$(5),o.Y8G("ngIf",null==(g=n.adopcionForm.get("raza"))||null==g.errors?null:g.errors.required),o.R7$(),o.Y8G("ngIf",null==(f=n.adopcionForm.get("raza"))||null==f.errors?null:f.errors.pattern),o.R7$(5),o.Y8G("ngIf",null==(F=n.adopcionForm.get("color"))||null==F.errors?null:F.errors.required),o.R7$(),o.Y8G("ngIf",null==(C=n.adopcionForm.get("color"))||null==C.errors?null:C.errors.pattern),o.R7$(5),o.Y8G("ngIf",null==(b=n.adopcionForm.get("descripcion"))||null==b.errors?null:b.errors.pattern),o.R7$(4),o.Y8G("ngIf",n.imageUrl),o.R7$(2),o.Y8G("disabled",!n.adopcionForm.valid)}},dependencies:[_.bT,r.qT,r.BC,r.cb,r.j4,r.JD,a.Jm,a.QW,a.b_,a.W9,a.eU,a.$w,a.uz,a.he,a.Nm,a.Ip,a.nc,a.BC,a.ai,a.su,a.Je,a.Gw,a.el],styles:['@charset "UTF-8";ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: #4CAF50;color:#fff}ion-title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}ion-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background-color:#fff;border-radius:12px;box-shadow:0 4px 12px #0000001a;padding:20px;margin:1rem auto}.form-title[_ngcontent-%COMP%]{font-size:24px;color:#4caf50;margin:0;text-align:center}ion-content[_ngcontent-%COMP%]{--background: white;padding:0}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}ion-item[_ngcontent-%COMP%]{--background: #f7f7f7;--border-radius: 8px;margin-bottom:15px;--padding-start: 15px;--padding-end: 15px}ion-label[_ngcontent-%COMP%]{color:#4caf50!important;font-size:16px;margin-bottom:5px}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{--placeholder-color: #999;color:#333}ion-button[_ngcontent-%COMP%]{--background: #4CAF50;color:#fff;font-weight:700;border-radius:8px;margin-top:10px;font-size:16px}ion-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.image-preview[_ngcontent-%COMP%]{text-align:center;margin-top:10px}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:200px;border-radius:8px;box-shadow:0 4px 8px #0003}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.error-message[_ngcontent-%COMP%]{color:#a94442;font-size:14px;margin-top:5px}.success-message[_ngcontent-%COMP%]{background-color:#dff0d8;color:#3c763d;padding:10px;border-radius:4px;margin-bottom:10px;text-align:center}.toast-center[_ngcontent-%COMP%]{--toast-background: #dff0d8;--toast-color: #3c763d;--toast-padding: 16px;--toast-border-radius: 8px;--toast-text-align: center}.btn-clear[_ngcontent-%COMP%]{--background: #007bff;--color: #fff;--border-radius: 4px;--padding-start: 16px;--padding-end: 16px}']}),t})()}];let N=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[k.iI.forChild(I),k.iI]}),t})(),z=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[_.MD,r.YN,r.X1,a.bv,N]}),t})()}}]);